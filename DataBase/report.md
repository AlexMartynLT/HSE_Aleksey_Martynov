Отчет по итоговому заданию (Вариант1) по дисциплине Базы данных.
Все имена и названия вымышлены. Все совпадения случайны.
1.	Описание задания
Спроектирована база данных для "Нового западного университета" (structure.sql). База данных хранит информацию о студентах, преподавателях, предметах, группах и оценках (data.sql). Реализована поддержка истории обучения, разделение предметов по типам и защита целостности данных.
2.	Структура базы данных (Нормализация)
База данных находится в 3-й нормальной форме (3NF). Данные разбиты на логические таблицы для исключения дублирования.
Таблицы:
student_groups: Справочник групп.
students: Хранит личные данные студентов. Связана с группами через group_id.
teachers: Хранит данные преподавателей (ФИО разделены на 3 поля для удобного поиска).
subjects: Справочник предметов.
Особенность: Поле type (Math/Humanities) для аналитики.
Особенность: Поле is_active для реализации "мягкого удаления" (Soft Delete).
teacher_subjects: Таблица связи "Многие-ко-многим".
Особенность: Поле academic_year позволяет хранить историю нагрузки преподавателя по годам.
grades: Таблица оценок.
Особенность: Поле grade_type ('Exam', 'Regular') разделяет экзаменационные и текущие оценки.
Особенность: Поле semester позволяет анализировать успеваемость по семестрам.
3.	Отношения и целостность данных
Первичные ключи (PK): У каждой таблицы есть суррогатный ключ id.
Внешние ключи (FK): Настроены связи с правилами удаления:
ON DELETE CASCADE: При удалении студента удаляются его оценки. В целях демонстрации каскадного удаления. В реальной базе следует использовать так называемое "мягкое удаление" (см. ниже).
ON DELETE SET NULL: При удалении группы студент остается в базе без группы.
Ограничения (Constraints):
CHECK (grade >= 1 AND grade <= 5): Оценка может быть только от 1 до 5.
UNIQUE: Email и названия предметов уникальны.
4.	Реализованные механизмы защиты
Для выполнения требования "Удаление предмета с учетом зависимостей" был выбран метод Soft Delete (Мягкое удаление).
При удалении предмета мы не удаляем запись физически, а ставим флаг is_active = FALSE.
Это позволяет сохранить исторические оценки студентов по этому предмету.
Триггер prevent_grade_for_inactive_subject: Блокирует попытку выставить новую оценку по предмету, который находится в архиве (is_active = FALSE).
5.	Запросы
В файле queries.sql представлены запросы согласно заданию. Сами запросы также приведены в приложении к настоящему отчету (appendix_to_report.md).
